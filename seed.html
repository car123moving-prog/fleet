<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Seeder Ù„Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©</title>
</head>

<body style="font-family: sans-serif; padding: 40px;">
  <h2>ğŸš€ Ø¬Ø§Ø±ÙŠ Ø­Ù‚Ù† Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©...</h2>
  <div id="log" style="margin-top:20px; line-height:1.6;"></div>

<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDkJ85bI9-6Q_N97dqhBhpWgytqKoM6VH0",
  authDomain: "fleet-123.firebaseapp.com",
  databaseURL: "https://fleet-123-default-rtdb.firebaseio.com",
  projectId: "fleet-123",
  storageBucket: "fleet-123.firebasestorage.app",
  messagingSenderId: "266130114678",
  appId: "1:266130114678:web:56e89b5922749a00c4f757"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
const log = document.getElementById("log");

const drivers = [
  "Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ", "Ø³Ø§Ù„Ù… Ø±Ø§Ø´Ø¯", "Ø®Ø§Ù„Ø¯ ÙŠÙˆØ³Ù", "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø­Ø³Ù†", "Ù…Ø­Ù…ÙˆØ¯ ÙÙ‡Ø¯", "Ø³Ø¹ÙŠØ¯ Ù†Ø§ØµØ±"
];

const owners = [
  "Ø´Ø±ÙƒØ© Ø§Ù„Ù…Ø³Ø¹ÙˆØ¯", "Ù…Ø­Ù…Ø¯ Ø³Ø¹ÙŠØ¯"
];

const settings = {
  companyName: "Ø´Ø±ÙƒØ© Ø§Ù„Ù…Ø³Ø¹ÙˆØ¯",
  systemVersion: "1.0.0",
  createdAt: new Date().toISOString()
};

firebase.auth().onAuthStateChanged(async user => {
  if (!user) {
    log.innerHTML = `<span style="color:red;">âŒ ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹</span>`;
    return;
  }

  try {
    for (let name of drivers) {
      await db.collection("drivers").add({ name });
      log.innerHTML += `âœ” Ø³Ø§Ø¦Ù‚: ${name}<br>`;
    }

    for (let name of owners) {
      await db.collection("owners").add({ name });
      log.innerHTML += `âœ” Ù…Ø§Ù„Ùƒ: ${name}<br>`;
    }

    await db.collection("settings").doc("main").set(settings);
    log.innerHTML += `<hr><strong style="color:green;">âœ… ØªÙ… Ø­Ù‚Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</strong><br>`;

    log.innerHTML += `<hr><h3 style="color:green;">âœ… ØªÙ… Ø­Ù‚Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­</h3>`;
  } catch (err) {
    log.innerHTML += `<span style="color:red;">âŒ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­Ù‚Ù†: ${err.message}</span>`;
  }
});
</script>

</body>
</html>
